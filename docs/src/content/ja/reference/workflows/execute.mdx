---
title: "リファレンス: Workflow.execute() | ワークフローの構築 | Mastra ドキュメント"
description: ワークフロー内の `.execute()` メソッドのドキュメント。入力データでステップを実行し、出力を返します。
---

# Workflow.execute()

`.execute()` メソッドは、入力データを使ってステップを実行し、その出力を返します。これにより、ワークフロー内でデータを処理することができます。

## 使い方

```typescript
const inputSchema = z.object({
  inputValue: z.string(),
});

const myStep = createStep({
  id: "my-step",
  description: "Does something useful",
  inputSchema,
  outputSchema: z.object({
    outputValue: z.string(),
  }),
  resumeSchema: z.object({
    resumeValue: z.string(),
  }),
  suspendSchema: z.object({
    suspendValue: z.string(),
  }),
  execute: async ({
    inputData,
    mastra,
    getStepResult,
    getInitData,
    runtimeContext,
  }) => {
    const otherStepOutput = getStepResult(step2);
    const initData = getInitData<typeof inputSchema>(); // typed as the input schema variable (zod schema)
    return {
      outputValue: `Processed: ${inputData.inputValue}, ${initData.startValue} (runtimeContextValue: ${runtimeContext.get("runtimeContextValue")})`,
    };
  },
});
```

## パラメーター

<PropertiesTable
  content={[
    {
      name: "params",
      type: "object",
      description: "ステップを実行するための設定オブジェクト",
      isOptional: false,
      properties: [
        {
          name: "inputData",
          type: "z.infer<TInput>",
          description: "ステップの入力スキーマに一致する入力データ",
          isOptional: false,
        },
        {
          name: "resumeData",
          type: "ResumeSchema",
          description: "一時停止したステップを再開するためのデータ",
          isOptional: true,
        },
        {
          name: "suspend",
          type: "(suspendPayload: any) => Promise<void>",
          description: "ステップの実行を一時停止する関数",
          isOptional: false,
        },
        {
          name: "resume",
          type: "object",
          description: "実行再開のための設定",
          isOptional: true,
          properties: [
            {
              name: "steps",
              type: "string[]",
              description: "再開するステップ",
              isOptional: false
            },
            {
              name: "resumePayload",
              type: "any",
              description: "再開時に使用するペイロードデータ",
              isOptional: false
            },
            {
              name: "runId",
              type: "string",
              description: "再開する実行のID",
              isOptional: true
            }
          ]
        },
        {
          name: "emitter",
          type: "object",
          description: "イベントエミッターオブジェクト",
          isOptional: false,
          properties: [
            {
              name: "emit",
              type: "(event: string, data: any) => void",
              description: "イベントを発行する関数",
              isOptional: false
            }
          ]
        },
        {
          name: "mastra",
          type: "Mastra",
          description: "Mastraインスタンス",
          isOptional: false
        }
      ]
    }
  ]}
/>

## 戻り値

<PropertiesTable
  content={[
    {
      name: "result",
      type: "Promise<z.infer<TOutput>>",
      description: "実行されたステップの出力に解決される Promise",
    },
  ]}
/>
