---
title: "リファレンス: Step | ワークフローの構築 | Mastra ドキュメント"
description: ワークフロー内の個々の作業単位を定義する Step クラスのドキュメントです。
---

# Step

Stepクラスは、ワークフロー内の個々の作業単位を定義し、実行ロジック、データ検証、および入力／出力の処理をカプセル化します。

## 使い方

```typescript
import { createStep } from "@mastra/core/workflows";
import { z } from "zod";

const processOrder = createStep({
  id: "processOrder",
  inputSchema: z.object({
    orderId: z.string(),
    userId: z.string(),
  }),
  outputSchema: z.object({
    status: z.string(),
    orderId: z.string(),
  }),
  resumeSchema: z.object({
    orderId: z.string(),
  }),
  suspendSchema: z.object({}),
  execute: async ({
    inputData,
    mastra,
    getStepResult,
    getInitData,
    suspend,
  }) => {
    return {
      status: "processed",
      orderId: inputData.orderId,
    };
  },
});
```

## コンストラクタのパラメータ

<PropertiesTable
  content={[
    {
      name: "id",
      type: "string",
      description: "ステップの一意な識別子",
      required: true,
    },
    {
      name: "description",
      type: "string",
      description: "ステップが何を行うかの任意の説明",
      required: false,
    },
    {
      name: "inputSchema",
      type: "z.ZodType<any>",
      description: "入力構造を定義するZodスキーマ",
      required: true,
    },
    {
      name: "outputSchema",
      type: "z.ZodType<any>",
      description: "出力構造を定義するZodスキーマ",
      required: true,
    },
    {
      name: "resumeSchema",
      type: "z.ZodType<any>",
      description: "ステップの再開用の任意のZodスキーマ",
      required: false,
    },
    {
      name: "suspendSchema",
      type: "z.ZodType<any>",
      description: "ステップの一時停止用の任意のZodスキーマ",
      required: false,
    },
    {
      name: "execute",
      type: "(params: ExecuteParams) => Promise<any>",
      description: "ステップのロジックを含む非同期関数",
      required: true,
    },
  ]}
/>

### ExecuteParams

<PropertiesTable
  content={[
    {
      name: "inputData",
      type: "z.infer<TStepInput>",
      description: "inputSchemaに一致する入力データ",
    },
    {
      name: "resumeData",
      type: "z.infer<TResumeSchema>",
      description: "一時停止状態からステップを再開する際に、resumeSchemaに一致する再開データ。ステップが再開される場合のみ存在します。",
    },
    {
      name: "mastra",
      type: "Mastra",
      description: "Mastraのサービス（エージェント、ツールなど）へのアクセス",
    },
    {
      name: "getStepResult",
      type: "(stepId: string) => any",
      description: "他のステップの結果にアクセスするための関数",
    },
    {
      name: "getInitData",
      type: "() => any",
      description: "任意のステップでワークフローの初期入力データにアクセスするための関数",
    },
    {
      name: "suspend",
      type: "() => Promise<void>",
      description: "ワークフローの実行を一時停止するための関数",
    },
  ]}
/>
